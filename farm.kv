#:kivy 1.9.1
#:import trunc math.trunc

<TitleScreen>:

	FloatLayout:

		Widget:
			width: min(self.parent.width,self.parent.height)
			height: min(self.parent.width,self.parent.height)
			
			canvas:
				Rectangle:
					size: self.size
					pos: self.pos
					source: "images/Title.png"

		Label:
			text: "FarmGame"

<AchievementScreen>:

	canvas:
		Color:
			rgb: 1,0,0

		Rectangle:
			size: self.size
			pos: self.pos
<UpgradeScreen>:

	canvas:
		Color:
			rgb: 0,1,0

		Rectangle:
			size: self.size
			pos: self.pos

<SellScreen>:
	
	GridLayout:

		rows: 7
		cols: 1

		SellItem:
			name: "Carrots"

		SellItem:
			name: "Potatoes"

<SellItem>:

	rows:1
	cols:3

	Image: 
		source: "images/" + self.parent.name + ".png"
	
	Label:
		text: str(app.game_state.prices[self.parent.name]["buy"]) + "/acre"
	Label:
		text: str(app.game_state.prices[self.parent.name]["sell"]) + "/ton"

<WeatherDisplay>:

	rows: 1
	cols: 3

	Label:
		text: "Sun:" + str(app.game_state.weather.sun) + "/" + str(app.game_state.weather.sun_tendency)
	Label:
		text: "Rain:" + str(app.game_state.weather.rain) + "/" + str(app.game_state.weather.rain_tendency)
	Label:
		text: "T:" + str(app.game_state.weather.temperature) + "/" + str(app.game_state.weather.temperature_tendency) + "°C"

	
<FarmScreen>:
	GridLayout:

		rows: 2
		cols: 1

		GridLayout:

			size_hint_x: 1.0
			size_hint_y: 0.33
		
			rows: 2
			cols: 3

			Label:
				text: str(app.game_state.money) + "€"

			Label:
				text: app.game_state.date.getStringRep()

			WeatherDisplay:

			PlantSelection:

		AnchorLayout:
			size_hint_x: 1.0
			size_hint_y: 0.66

			canvas: 
				Rectangle:
					source: "images/meaddow_bg.png"
					size: self.size

			FarmField:
				id: farm


<FarmPlot>:
	canvas:
		Rectangle:
			pos: self.pos
			size: self.size
			source: "images/" + app.game_state.plots[self.index].plant.name + ".png"

<FarmField>:

	canvas:
		Rectangle:
			size: self.size
			pos: self.pos
			source: "images/meaddow.png"

	padding: 32
	spacing: 32
	
	rows: 3
	cols: 3

	size_hint: None, None
	height: min(self.parent.width,self.parent.height)
	width: min(self.parent.width,self.parent.height)

	FarmPlot:
		index: 0
	FarmPlot:
		index: 1
	FarmPlot:
		index: 2
	FarmPlot:
		index: 3
	FarmPlot:
		index: 4
	FarmPlot:
		index: 5
	FarmPlot:
		index: 6
	FarmPlot:
		index: 7
	FarmPlot:
		index: 8

<PlantSelection>:

	canvas:
		Rectangle:
			pos: self.pos
			source: "images/" + app.game_state.plant_selection + ".png"
